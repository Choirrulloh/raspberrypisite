"use-strict";$(document).ready(function(){function t(t){$.get("/content",function(e){n=JSON.parse(e),o(n,t)})}function e(t,e){return e?void $.ajax({type:"POST",url:"/content",data:JSON.stringify(t),complete:function(){o(n),$(".warning-text").remove()},error:function(t){console.log("err",t)},contentType:"application/json",dataType:"json"}):void(e||""===$(".blog-post-form-title").val()||""===$(".blog-post-form-content").text()?$("#blog-post-form > .section").prepend('<p class="warning-text" style="color: red;text-align:center;">* please fill out all sections</p>'):$.ajax({type:"POST",url:"/content",data:JSON.stringify(t),complete:function(){o(n),$(".warning-text").remove()},error:function(t){console.log("err",t)},contentType:"application/json",dataType:"json"}))}function o(t){var e=$(".comments");e.children().remove();var o="/deleteblog"===window.location.pathname;t.forEach(function(t){var n;n=$(o?"<div class='blogPost' data='"+t.id+"'><div class='blog-post-header'><div class='delete fa fa-times-circle'></div><h1 class='blog-post-title'>"+t.title+"</h1><span class='date'>"+t.date+"</span></div><div class='blog-post-body'><pre class='blog-post-content'>"+t.content+"</pre></div></div>":"<div class='blogPost' data='"+t.id+"'><div class='blog-post-header'><h1 class='blog-post-title'>"+t.title+"</h1><span class='date'>"+t.date+"</span></div><div class='blog-post-body'><pre class='blog-post-content'>"+t.content+"</pre></div></div>"),e.append(n)})}var n=[];t(!0),$("#post-blog-button").on("click",function(t){t.preventDefault();var o=n.length,s=$(".blog-post-form-title"),l=$(".blog-post-form-content"),i={id:o,title:s.val(),content:l[0].innerText};n.unshift(i),e(n,!1),s.val(""),l[0].innerText=""}),$(".resume").hide(),$(".resume-button").on("click",function(t){t.preventDefault(),$(".blog-post-form-container").hide(),$(".comments").hide(),$(".intro").hide(),$(".resume").hide().fadeIn(800)}),$(".logo").on("click",function(t){t.preventDefault(),$(".resume").hide(),$(".intro").hide().fadeIn(800),$(".blog-post-form-container").hide().fadeIn(800),$(".comments").hide().fadeIn(800)}),$(document.body).on("click",".delete",function(t){t.preventDefault();var e=$(this).closest(".blogPost")[0].attributes.data.value;n.splice(e,1),$.ajax({type:"POST",url:"/delete-single-blog-post",data:JSON.stringify({blogPostId:e}),complete:function(t){console.log(t.responseJSON),o(t.responseJSON,!1)},error:function(t){console.log("err",t)},contentType:"application/json",dataType:"json"})})});
